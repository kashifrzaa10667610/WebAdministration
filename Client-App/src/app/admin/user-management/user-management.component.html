<div class="text-center mt-3">
  <h2><button class="btn btn-primary text-center" (click)="addUserModel()">AddUser</button></h2>
    <h2>Total Users - {{pagination.totalItems}} found</h2>
  </div>
  <div class="container mt-3">
    <form class="form-inline" #form="ngForm" (ngSubmit)="getUseraWithRoles()" novalidate>
        
      
        <div class="form-group px-2">
          <label for="role">Show: </label>
          <select class="form-control ml-1" style="width: 130px" 
            id="role" name="role"  [(ngModel)]="userParams.role">
            <option *ngFor="let role of availableRoles" [value]="role.value">
              {{role.name}}
            </option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary" style="margin-left:10px">Apply Filters</button>
        <button type="button" class="btn btn-info" style="margin-left:10px"
          (click)="resetFilter()"
          >Reset Filter</button>
          <div style="margin-left: 450px;" class="form-group px-3">
            <div class="btn-group float-right">
              <button type="button" name="orderBy" style="margin-right: 10px;" class="btn btn-primary" 
                btnRadio="lastActive" [(ngModel)]="userParams.orderBy" (click)="getUseraWithRoles()"
              >Last Active</button>
              <button type="button" name="orderBy" class="btn btn-primary" 
                btnRadio="created" [(ngModel)]="userParams.orderBy" (click)="getUseraWithRoles()"
              >Newest Members</button>
            </div>
          </div>        
      </form>
      <br>  
      <div class="role">
        <table class="table">
          <thead>
          <tr>
            
            <th >UserName</th>
            <th >Roles</th>
            <th >LastActive</th>
            <th >Lock</th>
            <th >EditUser</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
            
            <td><button class="btn btn-warning">{{user.username}}</button></td>
            <td><button class="btn btn-warning" (click)="editRolesModal(user)">{{user.userRoles}}</button></td>
            <td>{{user.lastActive|timeAgo}}</td>
            <td><button class="btn btn-warning" (click)="lockUnlock(user)">
              <span [className]="IsLockedout(user.lockoutEnd)?'fa fa-unlock':'glyphicon glyphicon-lock'"></span>{{ IsLockedout(user.lockoutEnd) ?'' : '' }}</button></td>
            <td><button class="btn btn-warning" (click)="editUser(user.id,user)"><span class="glyphicon glyphicon-edit"></span></button></td>
            <td><button class="btn btn-danger" (click)="deleteUser(user)"> <span class="glyphicon glyphicon-trash"></span></button></td>
          </tr>
        </tbody>
        </table>
      </div>
  </div>
  
  <div class="d-flex justify-content-center">
    <pagination 
      [boundaryLinks]="true" 
      [totalItems]="pagination.totalItems"
      [itemsPerPage]="pagination.itemsPerPage"
      [(ngModel)]="pagination.currentPage"
      (pageChanged)="pageChanged($event)"
      previousText="&lsaquo;" 
      nextText="&rsaquo;" 
      firstText="&laquo;" 
      lastText="&raquo;">
    </pagination>
  </div>