  <div class="text-left mt-3">

    <h4 class="text-warning"><strong>USERS - {{pagination.totalItems}}</strong></h4>
  </div>
  <div class=" mt-3">
    <form class="form-inline" #form="ngForm" (ngSubmit)="getUseraWithRoles()" novalidate>
        
      
        <div class="form-group px-2 col-md-6 col-sm-12 col-xs-12 margin-top">
          <select class="form-control ml-1" style="width: 130px" 
            id="role" name="role"  [(ngModel)]="userParams.role">
            <option *ngFor="let role of availableRoles" [value]="role.value">
              {{role.name}}
            </option>
          </select>
          <button type="submit" class="btn btn-light" style="margin-left:10px">Apply Filters</button>
        <button type="button" class="btn btn-dark" style="margin-left:10px"
          (click)="resetFilter()">Reset Filter</button>
        </div>
        
        <div class="form-group px-3 col-md-6 col-sm-12 col-xs-12 margin-right" >
          <div class="btn-group float-right">
            <button type="button" name="orderBy" style="margin-right: 10px;" class="btn btn-light" 
              btnRadio="lastActive" [(ngModel)]="userParams.orderBy" (click)="getUseraWithRoles()"
            >Last Active</button>
            <button type="button" name="orderBy" class="btn btn-light" 
              btnRadio="created" [(ngModel)]="userParams.orderBy" (click)="getUseraWithRoles()"
            >Newest Members</button>
          </div>
        </div>        
      </form>
      <br> 
      <br> 
      <div class="role">
        <table class="table">
          <thead>
          <tr>
            
            <th >UserName</th>
            <th >Roles</th>
            <th >LastActive</th>
            <th >Lock</th>
            <th >EditUser</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
            
            <td><button class="btn btn-link">{{user.username|uppercase}}</button></td>
            <td><button class="btn btn-link" (click)="editRolesModal(user)">{{user.userRoles}}</button></td>
            <td>{{user.lastActive|timeAgo}}</td>
            <td><button class="btn btn-link" (click)="lockUnlock(user)">
              <span [className]="IsLockedout(user.lockoutEnd)?'fa fa-unlock':'glyphicon glyphicon-lock'"></span>{{ IsLockedout(user.lockoutEnd) ?'' : '' }}</button></td>
            <td><button class="btn btn-link" (click)="editUser(user.id,user)"><span class="glyphicon glyphicon-edit"></span></button></td>
            <td><button class="btn btn-link" (click)="deleteUser(user)"> <span class="glyphicon glyphicon-trash"></span></button></td>
          </tr>
          <tr>
            <td></td><td></td><td></td><td></td><td></td>
            <button class="btn btn-secondary" style = "margin-top:10px; margin-left: 10px;" (click)="addUserModel()"><span class="glyphicon glyphicon-plus"></span></button><td></td>
          </tr>
        </tbody>
        </table>
      </div>
     
  </div>
  
  <div class="d-flex justify-content-center">
    <pagination 
      [boundaryLinks]="true" 
      [totalItems]="pagination.totalItems"
      [itemsPerPage]="pagination.itemsPerPage"
      [(ngModel)]="pagination.currentPage"
      (pageChanged)="pageChanged($event)"
      previousText="&lsaquo;" 
      nextText="&rsaquo;" 
      firstText="&laquo;" 
      lastText="&raquo;">
    </pagination>
  </div>